<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:c="http://java.sun.com/jsp/jstl/core">
     <ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                template="./template.xhtml">
        
    <h:head>
        <title>Facelet Title</title>
    </h:head>
     <ui:define name="mainView"> 
        <c:if test="${empty currentUserBean.currentUser}">
            Cześć, niezalogowany
        </c:if>
        <h:outputLabel value="Cześć, #{currentUserBean.currentUser.username}" rendered="${!empty currentUserBean.currentUser}"></h:outputLabel><br />
        
        <h:form rendered="${!empty currentUserBean.currentUser}">
           <h:commandLink value="Wyloguj" action="#{currentUserBean.logout()}"></h:commandLink> 
        </h:form>      
    </ui:define>
        
     <ui:define name="secNav"> 
        <h:link value="Loguj" outcome="loginView" rendered="${empty currentUserBean.currentUser}"></h:link><br />
        <h:link value="Rejestruj" outcome="registerView" rendered="${empty currentUserBean.currentUser}"></h:link><br />
     </ui:define>   
        
     </ui:composition> 
</html>

